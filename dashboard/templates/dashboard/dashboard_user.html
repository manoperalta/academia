{% extends 'base.html' %}

{% block title %}Dashboard Aluno - {{ block.super }}{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-12 mb-4">
        <div class="card bg-info text-white">
            <div class="card-body">
                <h2 class="card-title">Bem-vindo, Aluno {{ user.username }}!</h2>
                <p class="card-text">Acompanhe seus treinos e agendamentos.</p>
            </div>
        </div>
    </div>
</div>

{% if pagamento_vencido %}
<div class="row">
    <div class="col-md-12 mb-4">
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <h5 class="alert-heading"><i class="fas fa-exclamation-triangle"></i> Pagamento Vencido!</h5>
            <p>
                {% if ultimo_pagamento %}
                Sua assinatura venceu em <strong>{{ ultimo_pagamento.data_fim|date:"d/m/Y" }}</strong>.
                {% else %}
                Você não possui nenhum pagamento registrado.
                {% endif %}
                Por favor, entre em contato com a administração para regularizar sua situação.
            </p>
            <hr>
            <p class="mb-0">
                <a href="{% url 'plano_list' %}" class="btn btn-light btn-sm">Ver Planos Disponíveis</a>
            </p>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    </div>
</div>
{% endif %}

<div class="row">
    <div class="col-md-6 mb-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="fas fa-calendar-check fa-3x text-primary mb-3"></i>
                <h5 class="card-title">Agendar Aula</h5>
                <p class="card-text">Veja os horários disponíveis e inscreva-se.</p>
                <a href="{% url 'agenda_list' %}" class="btn btn-outline-primary">Ver Agenda</a>
            </div>
        </div>
    </div>
    <div class="col-md-6 mb-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="fas fa-list-alt fa-3x text-warning mb-3"></i>
                <h5 class="card-title">Meus Agendamentos</h5>
                <p class="card-text">Consulte suas próximas aulas agendadas.</p>
                <a href="{% url 'meus_agendamentos' %}" class="btn btn-outline-warning">Meus Agendamentos</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}